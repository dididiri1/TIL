# 섹션 4 타입스크립트 이해하기

## 타입은 집합이다.



타입스크립트의 '타입'은 사실 여러개의 값을 포함하는 '집합'이다.
그리고 이러한 타입(집합)들은 수직관계를 가지고 있다.

### 타입 호환성
그림처럼 Number 타입과 Number Literal 타입이 있을 때 서브 타입인 Number Literal 타입의 값을   
슈퍼 타입인 Number 타입의 값으로 취급하는 것은 가능합니다. 그러나 반대로는 불가능하다.
그 이유는 Number 타입이 더 큰 타입이기 때문이다.

![](https://github.com/dididiri1/TIL/blob/main/Typescript/images/04_01.png?raw=true)

따라서 타입스크립트에서는 이렇게 슈퍼타입의 값을 서브타입의 값으로 취급하는것을 허용하지 않습니다. 반대로는 허용합니다.

![](https://github.com/dididiri1/TIL/blob/main/Typescript/images/04_02.webp?raw=true)

그리고 특별히 서브 타입의 값을 슈퍼 타입의 값으로 취급하는 것을 **업 캐스팅** 이라고 부르고 반대로는
**다운 캐스팅**이라고 부른다. 업 캐스팅은 모든 상황에서 가능하지만 다운 캐스팅은 불가능하다.

## 타입 계층도와 함께 기본타입 살펴보기

![](https://github.com/dididiri1/TIL/blob/main/Typescript/images/04_03.png?raw=true)

### unknown 타입 (전체 집합)
unknown 타입은 타입 계층도의 최 상단에 위치함
따라서 unknown 타입 변수에는 모든 타입의 값을 할당할 수 있다.
바꿔 말하면 모든 타입은 unknown 타입으로 업 캐스트 할 수 있다.

``` 
let a: unknown = 1;                 // number -> unknown
let b: unknown = "hello";           // string -> unknown
let c: unknown = true;              // boolean -> unknown
let d: unknown = null;              // null -> unknown
let e: unknown = undefined;         // undefined -> unknown
let f: unknown = [];                // Array -> unknown
let g: unknown = {};                // Object -> unknown
let h: unknown = () => {};          // Function -> unknown
``` 

다운캐스트는 예외적인 경우가 아니면 허용되지 않는다고 배웠다. 
따라서 unknown 타입의 값은 any를 제외한 어떤 타입의 변수에도 할당할 수 없다.

``` 
let unknownValue: unknown;

let a: number = unknownValue;
// 오류 : unknown 타입은 number 타입에 할당할 수 없습니다.
``` 

### never 타입 (공집합 타입)
never 타입은 타입 계층도에서 가장 아래에 위치한다.

![](https://github.com/dididiri1/TIL/blob/main/Typescript/images/04_04.webp?raw=true)

``` 
function NeverExam() {
  function neverFunc(): never {
    while (true) {}
  }

  let num: number = neverFunc();
  let str: string = neverFunc();
  let bool: boolean = neverFunc();
}
```
never 타입은 모든 타입의 서브 타입이다. 모든 타입으로 업캐스팅 할 수 있습니다.

```
function NeverExam() {
  function neverFunc(): never {
    while (true) {}
  }

  let never1: never = 10;         // number -> never ❌
  let never2: never = "string";   // string -> never ❌
  let never3: never = true;       // boolean -> never ❌
}
```

반면 그 어떤 타입도 never 타입으로 다운 캐스팅 할 수 없습니다.


### void 타입

![](https://github.com/dididiri1/TIL/blob/main/Typescript/images/04_05.webp?raw=true)


타입 계층도에서 void 타입을 찾아보면 void 타입은 undefined 타입의 슈퍼타입임을 알 수 있다.
```
function voidExam() {
  function voidFunc(): void {
    console.log("hi");
  }

  let voidVar: void = undefined;
  
}
```

따라서 반환값을 void로 선언한 함수에서 undefined을 반환 해도 오류가 발생하지 않는다.
undefined 타입은 void 타입의 서브 타입이므로 업캐스팅이 가능하기 때문이다.

### any 타입 (치트키)
any 타입은 사실상 타입 계층도를 완전히 무시한다. any는 일종의 치트키같은 타입이다.
![](https://github.com/dididiri1/TIL/blob/main/Typescript/images/04_06.webp?raw=true)


```
function anyExam() {
  let unknownVar: unknown;
  let anyVar: any;
  let undefinedVar: undefined;
  let neverVar: never;

  anyVar = unknownVar;
  undefinedVar = anyVar;

  neverVar = anyVar;  // never -> any ❌
}
```

> 참고: any 타입은 치트키 타입이지만 never타입까지 다운 캐스팅 할수는 없다라고 예외적으로 알아두자!

