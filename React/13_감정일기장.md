# ì„¹ì…˜13 í”„ë¡œì íŠ¸3. ê°ì • ì¼ê¸°ì¥

## 12.3) í˜ì´ì§€ ë¼ìš°íŒ… 2. ë¼ìš°íŒ… ì„¤ì •í•˜ê¸°

### í”„ë¡œì íŠ¸ ìƒì„±
```
npm create vite@latest
```

### section12 í´ë” ì´ë™
```
npm i
```

#### eslint.config.js
```
"no-unused-vars": "off",
"react/prop-types": "off",
```

### React Router ì„¤ì¹˜

[npmjs.com](https://npmjs.com)ì— ë“±ë¡ë˜ì–´ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
ëŒ€ë‹¤ìˆ˜ì˜ ë¦¬ì—‘íŠ¸ ì•±ì´ ì‚¬ìš©í•˜ê³  ìˆëŠ” ëŒ€í‘œê²© ë¼ì´ë¸ŒëŸ¬ë¦¬

```
npm i react-router-dom
```

#### App.jsx
```
import "./App.css";
import { Routes, Route } from "react-router-dom";
import Home from "./pages/Home";
import Diary from "./pages/Diary";
import New from "./pages/New";
import Notfound from "./pages/Notfound";

// 1. "/" : ëª¨ë“  ì¼ê¸°ë¥¼ ì¡°íšŒí•˜ëŠ” Home í˜ì´ì§€
// 2. "/new" : ìƒˆë¡œìš´ ì¼ê¸°ë¥¼ ì‘ì„±í•˜ëŠ” New í˜ì´ì§€
// 3. "/diary" : ì¼ê¸°ë¥¼ ìƒì„¸íˆ ì¡°íšŒí•˜ëŠ” Diary í˜ì´ì§€
function App() {
  return (
    <Routes>
      <Route path="/" element={<Home />} />
      <Route path="/new" element={<New />} />
      <Route path="/diary" element={<Diary />} />
      <Route path="*" element={<Notfound />} />
    </Routes>
  );
}

export default App;

```
## 12.4) í˜ì´ì§€ ë¼ìš°íŒ… 3. í˜ì´ì§€ ì´ë™

### Link ì»´í¬ë„ŒíŠ¸ VS a íƒœê·¸
- React-Router-Dom ì´ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.
- Link ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“  ë¶€ë¶„ì„ ëˆ„ë¥´ë©´ URLê²½ë¡œê°€ ë°”ë€Œë©´ì„œ í•´ë‹¹ ê²½ë¡œë¡œ ì§€ì •ëœ ì»´í¬ë„ŒíŠ¸ê°€ ë³´ì—¬ì§„ë‹¤.
- í´ë¦­ë§Œ í•˜ë©´ ì´ë™í•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì—°ì‚°ê³¼ì • ì—†ì´ í˜ì´ì§€ë¥¼ ì´ë™í•  ë•Œ ì“°ì¸ë‹¤.
- ê°œë°œì ë„êµ¬ì—ëŠ” <a href=#> ë¡œ ë³´ì¸ë‹¤.
```
function App() {
  return (
    <>
      <div>
        <Link to={"/"}>Home</Link>
        <Link to={"/new"}>New</Link>
        <Link to={"/diary"}>Diary</Link>

      </div>
    </>
  );
}

```

```
function App() {
  return (
    <>
      <div>
        <a href="/">Home</a>
        <a href="/new">new</a>
        <a href="/diary">diary</a>
      </div>
    </>
  );
}
```
> ğŸ’¡ê·¸ë ‡ë‹¤ë©´, Link ì»´í¬ë„ŒíŠ¸ì™€ <a>ì˜ ì°¨ì´ì ì€?
> <a href=#>ëŠ” ì „ì²´ í˜ì´ì§€ë¥¼ ì¬ë Œë”ë§ ì‹œí‚¨ë‹¤. ë¸Œë¼ìš°ì € ì£¼ì†Œë¥¼ ì´ë™í•˜ê³  í˜ì´ì§€ ìì²´ë¥¼ ìƒˆë¡œê³ ì¹¨í•œë‹¤.   
> ë”°ë¼ì„œ ìƒíƒœ ê°’ì´ ìœ ì§€ë˜ì§€ ëª»í•˜ê³  ì†ë„ë„ ì €í•˜ëœë‹¤.
> <Link />ëŠ” SPAì˜ íŠ¹ì§•ì— ë§ê²Œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì¬ë Œë”ë§í•˜ê³  ë‚˜ë¨¸ì§€ ë¶€ë¶„ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ëœë‹¤. ë°ì´í„°ë¥¼ í•„ìš”í•œ 
> ë¶€ë¶„ë§Œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì†ë„í–¥ìƒì— ë„ì›€ì´ëœë‹¤.
> ğŸ’¡Tip
> <a href=#> ëŠ” **ì™¸ë¶€ í”„ë¡œì íŠ¸ì™€ ì—°ê²° í• ** ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.
> <Link />ëŠ” **í”„ë¡œì íŠ¸ ë‚´ì—ì„œ í˜ì´ì§€ ì „í™˜**í•˜ëŠ” ê²½ìš° ì‚¬ìš©í•œë‹¤.

### useNavigate hook
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ì•ˆì—ì„œ íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ í˜ì´ì§€ë¥¼ ì´ë™ì‹œì¼œì•¼í•  ê²½ìš°
```
import { useNavigate } from "react-router-dom";

function App() {
  const nav = useNavigate();

  const onClickButton = () => {
    nav("/new");
  };

  return (
    <>
      <div>
        <Link to={"/"}>Home</Link>
        <Link to={"/new"}>New</Link>
        <Link to={"/diary"}>Diary</Link>

        <button onClick={onClickButton}>New í˜ì´ì§€ ì´ë™</button>
      </div>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/new" element={<New />} />
        <Route path="/diary" element={<Diary />} />
        <Route path="*" element={<Notfound />} />
      </Routes>
    </>
  );
}

export default App;

```

## 12.5) í˜ì´ì§€ ë¼ìš°íŒ… 4. ë™ì  ê²½ë¡œ

![](https://github.com/dididiri1/TIL/blob/main/React/images/13_01.png?raw=true)

![](https://github.com/dididiri1/TIL/blob/main/React/images/13_02.png?raw=true)

### URL Parameter
```
  return (
    <>
      
      ```
      
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/new" element={<New />} />
        <Route path="/diary/:id" element={<Diary />} />
        <Route path="*" element={<Notfound />} />
      </Routes>
    </>
  );
}

export default App;

```

```
import { useParams } from "react-router-dom";

const Diary = () => {
  const params = useParams();
  console.log(params);

  return <div>{params.id}ë²ˆ ì¼ê¸° ì…ë‹ˆë‹¤.</div>;
};

export default Diary;

```


### Query String


```
import { useSearchParams } from "react-router-dom";

const Home = () => {
  const [params, setParams] = useSearchParams();
  console.log(params.get("value"));

  return <div>Home</div>;
};

export default Home;

```

![](https://github.com/dididiri1/TIL/blob/main/React/images/13_03.png?raw=true)

## 12.6) í°íŠ¸, ì´ë¯¸ì§€, ë ˆì´ì•„ì›ƒ ì„¤ì •í•˜ê¸°

```
import emotion1 from "./assets/emotion1.png";
import emotion2 from "./assets/emotion2.png";
import emotion3 from "./assets/emotion3.png";
import emotion4 from "./assets/emotion4.png";
import emotion5 from "./assets/emotion5.png";

function App() {

  return (
    <>
      <div>
        <img src={emotion1} alt="" />
        <img src={emotion2} alt="" />
        <img src={emotion3} alt="" />
        <img src={emotion4} alt="" />
        <img src={emotion5} alt="" />
      </div>
      
    </>
  );
}

export default App;

```
### importë¥¼ í†µí•´ì„œ ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
#### get-emotion-image.js
```
import emotion1 from "./../assets/emotion1.png";
import emotion2 from "./../assets/emotion2.png";
import emotion3 from "./../assets/emotion3.png";
import emotion4 from "./../assets/emotion4.png";
import emotion5 from "./../assets/emotion5.png";

export function getEmotionImage(emotionId) {
  switch (emotionId) {
    case 1:
      return emotion1;
    case 2:
      return emotion2;
    case 3:
      return emotion3;
    case 4:
      return emotion4;
    case 5:
      return emotion5;
    default:
      return null;
  }
}

```

```
import { getEmotionImage } from "./util/get-emotion-image";

  return (
    <>
      <div>
        <img src={getEmotionImage(1)} alt="" />
        <img src={getEmotionImage(2)} alt="" />
        <img src={getEmotionImage(3)} alt="" />
        <img src={getEmotionImage(4)} alt="" />
        <img src={getEmotionImage(5)} alt="" />
      </div>
      
    </>
  );
}

export default App;
```

## 12.7) ê³µí†µ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„í•˜ê¸°

![](https://github.com/dididiri1/TIL/blob/main/React/images/13_04.png?raw=true)


![](https://github.com/dididiri1/TIL/blob/main/React/images/13_05.png?raw=true)


![](https://github.com/dididiri1/TIL/blob/main/React/images/13_06.png?raw=true)

```
import "./Header.css";

const Header = ({ title, leftChild, rightChild }) => {
  return (
    <header className="Header">
      <div className="header_left">{leftChild}</div>
      <div className="header_center">{title}</div>
      <div className="header_right">{rightChild}</div>
    </header>
  );
};

export default Header;

```

```
.Header {
  display: flex;
  align-items: center;

  padding: 20px 0px;
  border-bottom: 1px solid rgb(226, 226, 226);
}

.Header > div {
  display: flex;
}

.Header .header_center {
  width: 50%;
  font-size: 25px;
  justify-content: center;
}

.Header .header_left {
  width: 25%;
  justify-content: flex-start;
}

.Header .header_right {
  width: 25%;
  justify-content: flex-end;
}

```

```
import "./Button.css";

const Button = ({ text, type, onClick }) => {
  return (
    <button onClick={onClick} className={`Button Button_${type}`}>
      ë²„íŠ¼
    </button>
  );
};

export default Button;

```

```
.Button {
  background-color: rgb(236, 236, 236);
  cursor: pointer;
  border: none;
  border-radius: 5px;
  padding: 10px 20px;
  font-size: 18px;
  white-space: nowrap;
}

.Button_POSITIVE {
  background-color: rgb(100, 201, 100);
  color: white;
}

.Button_NEGATIVE {
  background-color: rgb(253, 86, 95);
  color: white;
}

```

```
import "./App.css";
import { Routes, Route, Link, useNavigate } from "react-router-dom";
import Home from "./pages/Home";
import Diary from "./pages/Diary";
import New from "./pages/New";
import Notfound from "./pages/Notfound";
import { getEmotionImage } from "./util/get-emotion-image";
import Button from "./components/Button";
import Header from "./components/Header";

function App() {
  const nav = useNavigate();

  const onClickButton = () => {
    nav("/new");
  };

  return (
    <>
      <Header
        title={"Header"}
        leftChild={<Button text={"Left"} />}
        rightChild={<Button text={"Right"} />}
      />
      <Button
        text={"123"}
        type={"DEFAULT"}
        onClick={() => {
          console.log("123ë²ˆ ë²„íŠ¼ í´ë¦­!");
        }}
      />
      <Button
        text={"123"}
        type={"POSITIVE"}
        onClick={() => {
          console.log("123ë²ˆ ë²„íŠ¼ í´ë¦­!");
        }}
      />
      <Button
        text={"123"}
        type={"NEGATIVE"}
        onClick={() => {
          console.log("123ë²ˆ ë²„íŠ¼ í´ë¦­!");
        }}
      />
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/new" element={<New />} />
        <Route path="/diary/:id" element={<Diary />} />
        <Route path="*" element={<Notfound />} />
      </Routes>
    </>
  );
}

export default App;

```

## 12.8) ì¼ê¸° ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸° 1
```
import "./App.css";
import { useReducer } from "react";
import { Routes, Route, Link, useNavigate } from "react-router-dom";

import Home from "./pages/Home";
import Diary from "./pages/Diary";
import New from "./pages/New";
import Edit from "./pages/Edit";
import Notfound from "./pages/Notfound";

const mockData = [
  {
    id: 1,
    createDate: new Date().getTime(),
    emotionId: 1,
    content: "1ë²ˆ ì¼ê¸° ë‚´ìš©",
  },
  {
    id: 2,
    createDate: new Date().getTime(),
    emotionId: 2,
    content: "2ë²ˆ ì¼ê¸° ë‚´ìš©",
  },
];

function reducer(state, action) {
  return state;
}

function App() {
  const [data, dispatch] = useReducer(reducer, [mockData]);
  return (
    <>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/new" element={<New />} />
        <Route path="/diary/:id" element={<Diary />} />
        <Route path="/edit/:id" element={<Edit />} />
        <Route path="*" element={<Notfound />} />
      </Routes>
    </>
  );
}

export default App;

```

```
import { useParams } from "react-router-dom";

const Edit = () => {
  const params = useParams();
  return <div>{params.id}ë²ˆ ì¼ê¸° ìˆ˜ì •ì…ë‹ˆë‹¤.</div>;
};

export default Edit;

```

## 12.9) ì¼ê¸° ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸° 2
```
import "./App.css";
import { useReducer, useRef } from "react";
import { Routes, Route, Link, useNavigate, data } from "react-router-dom";

import Home from "./pages/Home";
import Diary from "./pages/Diary";
import New from "./pages/New";
import Edit from "./pages/Edit";
import Notfound from "./pages/Notfound";

const mockData = [
  {
    id: 1,
    createDate: new Date().getTime(),
    emotionId: 1,
    content: "1ë²ˆ ì¼ê¸° ë‚´ìš©",
  },
  {
    id: 2,
    createDate: new Date().getTime(),
    emotionId: 2,
    content: "2ë²ˆ ì¼ê¸° ë‚´ìš©",
  },
];

function reducer(state, action) {
  switch (action.type) {
    case "CREATE":
      return [action.data, ...state];
    case "UPDATE":
      return state.map((item) =>
        String(item.id) === String(action.data.id) ? action.data : item
      );
    case "DELETE":
      return state.filter((item) => {
        String(item.id) !== String(action.id);
      });
    default:
      return state;
  }
}

function App() {
  const [data, dispatch] = useReducer(reducer, [mockData]);
  const idRef = useRef(3);

  // ìƒˆë¡œìš´ ì¼ê¸° ì¶”ê°€
  const onCreate = (createDate, emotionId, content) => {
    dispatch({
      type: "CREATE",
      data: {
        id: idRef.current++,
        createDate,
        emotionId,
        content,
      },
    });
  };

  // ê¸°ì¡´ ì¼ê¸° ìˆ˜ì •
  const onUpdate = (id, createDate, emotionId, content) => {
    dispatch({
      type: "UPDATE",
      data: {
        id,
        createDate,
        emotionId,
        content,
      },
    });
  };

  const onDelete = (id) => {
    dispatch({
      type: "DELETE",
      data: {
        id,
      },
    });
  };

  return (
    <>
      <button
        onClick={() => {
          onCreate(new Date().getTime(), 1, "Hello");
        }}
      >
        ì¼ê¸° ì¶”ê°€ í…ŒìŠ¤íŠ¸
      </button>
      <button
        onClick={() => {
          onUpdate(1, new DataTransfer.getTime(), 3, "ìˆ˜ì •ëœ ì¼ê¸°ì…ë‹ˆë‹¤.");
        }}
      >
        ì¼ê¸° ìˆ˜ì • í…ŒìŠ¤íŠ¸
      </button>
      <button
        onClick={() => {
          onDelete(1);
        }}
      >
        ì¼ê¸° ì‚­ì œ í…ŒìŠ¤íŠ¸
      </button>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/new" element={<New />} />
        <Route path="/diary/:id" element={<Diary />} />
        <Route path="/edit/:id" element={<Edit />} />
        <Route path="*" element={<Notfound />} />
      </Routes>
    </>
  );
}

export default App;

```
- contextë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ì˜ í•˜ìœ„ì— ìˆëŠ” ëª¨ë“  í˜ì´ì§€ì— ì»´í¬ë„ŒíŠ¸ ê³µê¸‰í•˜ê¸°
```
import { useReducer, useRef, createContext } from "react";
```

```
import "./App.css";
import { useReducer, useRef, createContext } from "react";
import { Routes, Route, Link, useNavigate, data } from "react-router-dom";

import Home from "./pages/Home";
import Diary from "./pages/Diary";
import New from "./pages/New";
import Edit from "./pages/Edit";
import Notfound from "./pages/Notfound";

const mockData = [
  {
    id: 1,
    createDate: new Date().getTime(),
    emotionId: 1,
    content: "1ë²ˆ ì¼ê¸° ë‚´ìš©",
  },
  {
    id: 2,
    createDate: new Date().getTime(),
    emotionId: 2,
    content: "2ë²ˆ ì¼ê¸° ë‚´ìš©",
  },
];

function reducer(state, action) {
  switch (action.type) {
    case "CREATE":
      return [action.data, ...state];
    case "UPDATE":
      return state.map((item) =>
        String(item.id) === String(action.data.id) ? action.data : item
      );
    case "DELETE":
      return state.filter((item) => {
        String(item.id) !== String(action.id);
      });
    default:
      return state;
  }
}

const DiaryStateContext = createContext();
const DiaryDispatchContext = createContext();

function App() {
  const [data, dispatch] = useReducer(reducer, [mockData]);
  const idRef = useRef(3);

  // ìƒˆë¡œìš´ ì¼ê¸° ì¶”ê°€
  const onCreate = (createDate, emotionId, content) => {
    dispatch({
      type: "CREATE",
      data: {
        id: idRef.current++,
        createDate,
        emotionId,
        content,
      },
    });
  };

  // ê¸°ì¡´ ì¼ê¸° ìˆ˜ì •
  const onUpdate = (id, createDate, emotionId, content) => {
    dispatch({
      type: "UPDATE",
      data: {
        id,
        createDate,
        emotionId,
        content,
      },
    });
  };

  const onDelete = (id) => {
    dispatch({
      type: "DELETE",
      data: {
        id,
      },
    });
  };

  return (
    <>
      <button
        onClick={() => {
          onCreate(new Date().getTime(), 1, "Hello");
        }}
      >
        ì¼ê¸° ì¶”ê°€ í…ŒìŠ¤íŠ¸
      </button>
      <button
        onClick={() => {
          onUpdate(1, new DataTransfer.getTime(), 3, "ìˆ˜ì •ëœ ì¼ê¸°ì…ë‹ˆë‹¤.");
        }}
      >
        ì¼ê¸° ìˆ˜ì • í…ŒìŠ¤íŠ¸
      </button>
      <button
        onClick={() => {
          onDelete(1);
        }}
      >
        ì¼ê¸° ì‚­ì œ í…ŒìŠ¤íŠ¸
      </button>
      <DiaryStateContext.Provider value={data}>
        <DiaryDispatchContext.Provider
          value={{
            onCreate,
            onUpdate,
            onDelete,
          }}
        >
          <Routes>
            <Route path="/" element={<Home />} />
            <Route path="/new" element={<New />} />
            <Route path="/diary/:id" element={<Diary />} />
            <Route path="/edit/:id" element={<Edit />} />
            <Route path="*" element={<Notfound />} />
          </Routes>
        </DiaryDispatchContext.Provider>
      </DiaryStateContext.Provider>
    </>
  );
}

export default App;

```