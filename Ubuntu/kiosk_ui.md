어구보증금 반환 키오스크(KIOSK) 사용자 인터페이스 및 API 명세

📱 단계별 상세 UI
STEP 0: 시작 화면
┌─────────────────────────────────────┐
│                                     │
│     어구 보증금 반환 키오스크          │
│                                     │
│         반환을 시작합니다             │
│                                     │
│                                     │
│    ┌─────────────────────┐         │
│    │   시작하기           │         │
│    └─────────────────────┘         │
│                                     │
└─────────────────────────────────────┘
STEP 1: 본인인증 / 로그인 선택
┌─────────────────────────────────────┐
│ 본인 확인 방법을 선택해주세요           │
├─────────────────────────────────────┤
│                                     │
│  ┌──────────────────┐               │
│  │  📱 본인인증      │               │
│  │                  │               │
│  │  휴대폰 본인인증   │               │
│  └──────────────────┘               │
│                                     │
│  ┌──────────────────┐               │
│  │  🔐 로그인        │               │
│  │                  │               │
│  │  아이디/비밀번호   │               │
│  └──────────────────┘               │
│                                     │
└─────────────────────────────────────┘
STEP 2-A: 본인인증 (휴대폰)
┌─────────────────────────────────────┐
│ 휴대폰 본인인증                       │
├─────────────────────────────────────┤
│                                     │
│  [본인인증 프로세스 진행...]           │
│                                     │
│  → DI 값 획득                        │
│                                     │
│  API: POST /api/v1/user/check-member.json │
│  Request: {                         │
│    "di": "본인인증DI값"               │
│  }                                  │
│                                     │
└─────────────────────────────────────┘
STEP 2-A-1: 회원 존재
┌─────────────────────────────────────┐
│ ✅ 회원 확인 완료                     │
├─────────────────────────────────────┤
│                                     │
│  홍길동님, 환영합니다!                 │
│                                     │
│  어업인번호: T00527PE                │
│  구분: 통발어업인                     │
│  휴대폰: 010-1234-5678               │
│                                     │
│  기존 등록된 정보로 진행합니다          │
│                                     │
│         [다음]                       │
│                                     │
└─────────────────────────────────────┘
STEP 2-A-2: 비회원 - 반환자 정보 입력
┌─────────────────────────────────────┐
│ 반환자 정보 입력                      │
├─────────────────────────────────────┤
│                                     │
│  이름:                               │
│  ┌─────────────────────────┐        │
│  │ 홍길동                   │        │
│  └─────────────────────────┘        │
│                                     │
│  생년월일:                           │
│  ┌────┐ ┌───┐ ┌───┐               │
│  │1980│ │ 01│ │ 01│               │
│  └────┘ └───┘ └───┘               │
│                                     │
│  전화번호:                           │
│  ┌───┐ ┌────┐ ┌────┐              │
│  │02 │-│1234│-│5678│              │
│  └───┘ └────┘ └────┘              │
│                                     │
│  휴대전화: (필수)                     │
│  ┌────┐ ┌────┐ ┌────┐             │
│  │010 │-│1234│-│5678│             │
│  └────┘ └────┘ └────┘             │
│                                     │
│         [다음]                       │
│                                     │
└─────────────────────────────────────┘
STEP 2-B: 로그인
┌─────────────────────────────────────┐
│ 로그인                               │
├─────────────────────────────────────┤
│                                     │
│  아이디:                             │
│  ┌─────────────────────────┐        │
│  │ test0001                │        │
│  └─────────────────────────┘        │
│                                     │
│  비밀번호:                           │
│  ┌─────────────────────────┐        │
│  │ ••••••••                │        │
│  └─────────────────────────┘        │
│                                     │
│  API: POST /api/v1/user/login.json  │
│  Request: {                         │
│    "id": "test0001",                │
│    "password": "비밀번호"            │
│  }                                  │
│                                     │
│         [로그인]                     │
│                                     │
└─────────────────────────────────────┘
로그인 성공:

┌─────────────────────────────────────┐
│ ✅ 로그인 성공                        │
├─────────────────────────────────────┤
│                                     │
│  홍길동님, 환영합니다!                 │
│                                     │
│  어업인번호: T00527PE                │
│  구분: 통발어업인                     │
│                                     │
│         [다음]                       │
│                                     │
└─────────────────────────────────────┘
STEP 3: 계좌 선택/인증
STEP 3-A: 회원 - 기존 계좌 선택
┌─────────────────────────────────────┐
│ 환급받을 계좌를 선택해주세요            │
├─────────────────────────────────────┤
│                                     │
│  ○ 기존 등록 계좌 사용                │
│    국민은행 123-45-678901 (홍길동)   │
│                                     │
│  ○ 새 계좌 입력                      │
│                                     │
│         [다음]                       │
│                                     │
└─────────────────────────────────────┘
기존 계좌 선택 시 - 계좌 인증:

┌─────────────────────────────────────┐
│ 계좌 인증                            │
├─────────────────────────────────────┤
│                                     │
│  은행: 국민은행                       │
│  계좌번호: 123-45-678901             │
│  예금주: 홍길동                       │
│                                     │
│  API: POST /api/v1/account/verify.json │
│  Request: {                         │
│    "bank_cd": "004",                │
│    "actno": "123456789012",         │
│    "acct_nm": "홍길동"               │
│  }                                  │
│                                     │
│  [인증하기]                          │
│                                     │
└─────────────────────────────────────┘
STEP 3-B: 비회원 또는 새 계좌 - 계좌 입력
┌─────────────────────────────────────┐
│ 계좌 정보 입력                        │
├─────────────────────────────────────┤
│                                     │
│  은행 선택:                          │
│  ┌─────────────────────────┐        │
│  │ 국민은행            ▼    │        │
│  └─────────────────────────┘        │
│                                     │
│  API: GET /api/v1/banks.json        │
│                                     │
│  예금주명:                           │
│  ┌─────────────────────────┐        │
│  │ 홍길동                   │        │
│  └─────────────────────────┘        │
│                                     │
│  계좌번호:                           │
│  ┌─────────────────────────┐        │
│  │ 123456789012            │        │
│  └─────────────────────────┘        │
│                                     │
│         [계좌 인증]                  │
│                                     │
└─────────────────────────────────────┘
인증 성공:

┌─────────────────────────────────────┐
│ ✅ 계좌 인증 완료                     │
├─────────────────────────────────────┤
│                                     │
│  예금주: 홍길동 님                    │
│  계좌가 확인되었습니다!                │
│                                     │
│         [다음]                       │
│                                     │
└─────────────────────────────────────┘
STEP 4: 어구구분 선택
STEP 4-A: 회원 - 모든 어구구분 선택 가능
┌─────────────────────────────────────┐
│ 반환하실 어구를 선택해주세요            │
├─────────────────────────────────────┤
│                                     │
│  ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓   │
│  ┃   보증금어구 반환              ┃   │
│  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛   │
│                                     │
│  ┌────────────┐  ┌────────────┐    │
│  │  통발어구   │  │ 장어통발    │    │
│  │           │  │  어구      │    │
│  │  💰 보증금  │  │ 💰 보증금   │    │
│  └────────────┘  └────────────┘    │
│                                     │
│  ┌────────────┐                     │
│  │  부표어구   │                     │
│  │           │                     │
│  │  💰 보증금  │                     │
│  └────────────┘                     │
│                                     │
│  ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓   │
│  ┃   기존어구 반환 (등록어업인만) ┃   │
│  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛   │
│                                     │
│  ┌────────────┐                     │
│  │  기존어구   │                     │
│  │           │                     │
│  │  🎁 포인트  │                     │
│  └────────────┘                     │
│                                     │
└─────────────────────────────────────┘
STEP 4-B: 비회원 - 보증금어구만 선택 가능
┌─────────────────────────────────────┐
│ 반환하실 어구를 선택해주세요            │
├─────────────────────────────────────┤
│                                     │
│  ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓   │
│  ┃   보증금어구 반환              ┃   │
│  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛   │
│                                     │
│  ┌────────────┐  ┌────────────┐    │
│  │  통발어구   │  │ 장어통발    │    │
│  │           │  │  어구      │    │
│  │  💰 보증금  │  │ 💰 보증금   │    │
│  └────────────┘  └────────────┘    │
│                                     │
│  ┌────────────┐                     │
│  │  부표어구   │                     │
│  │           │                     │
│  │  💰 보증금  │                     │
│  └────────────┘                     │
│                                     │
│  ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓   │
│  ┃   기존어구 반환               ┃   │
│  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛   │
│                                     │
│  ┌────────────┐                     │
│  │  기존어구   │  ⛔ 등록어업인만    │
│  │  (비활성화) │     이용 가능      │
│  └────────────┘                     │
│                                     │
└─────────────────────────────────────┘
STEP 5: 반환 세션 시작
┌─────────────────────────────────────┐
│ [통발어구] 반환을 시작합니다           │
├─────────────────────────────────────┤
│                                     │
│  반환자: 홍길동                       │
│  어업인번호: T00527PE                │
│  입금계좌: 국민은행 123-45-678901     │
│                                     │
│  API: POST /api/v1/deposit/return/remg/session/start.json │
│  Request: {                         │
│    "user_fshnd_no": "T00527PE",     │
│    "fsgr_clsf_cd": "C1",            │
│    "korn_flnm": "홍길동",            │
│    "brdt": "1980-01-01",            │
│    "telno": "02-1234-5678",         │
│    "mbl_telno": "010-1234-5678",    │
│    "bank_cd": "004",                │
│    "actno": "123456789012",         │
│    "acct_nm": "홍길동",              │
│    "gvbk_ymd": "2026-02-11"         │
│  }                                  │
│                                     │
│  Response: {                        │
│    "status": "200",                 │
│    "message": "반환 세션이 시작...", │
│    "data": {                        │
│      "gvbk_mng_no": "GVBK_001"      │
│    }                                │
│  }                                  │
│                                     │
│  세션이 시작되었습니다!                │
│                                     │
│         [바코드 스캔 시작]             │
│                                     │
└─────────────────────────────────────┘
STEP 6: 바코드 스캔 (반복)
┌─────────────────────────────────────┐
│ 🎯 통발어구 반환 중                   │
├─────────────────────────────────────┤
│                                     │
│  📦 바코드를 스캔해주세요              │
│                                     │
│  ┌───────────────────────┐          │
│  │                       │          │
│  │   [바코드 스캔 영역]    │          │
│  │                       │          │
│  └───────────────────────┘          │
│                                     │
│  API: POST /api/v1/deposit/return/remg.json │
│  Request: {                         │
│    "gvbk_mng_no": "GVBK_001",       │
│    "bacod_nm": "2024010100001",     │
│    "user_fshnd_no": "T00527PE"      │
│  }                                  │
│                                     │
│  ─────────────────────────          │
│  반환 목록:                          │
│                                     │
│  ✅ 통발어구 - 50,000원               │
│  ✅ 통발어구 - 50,000원               │
│  ✅ 통발어구 - 50,000원               │
│                                     │
│  ─────────────────────────          │
│  총 3개 / 150,000원                  │
│                                     │
│  [사진 촬영하기]  [반환 완료]          │
│                                     │
└─────────────────────────────────────┘
STEP 7: 사진 촬영 (선택)
┌─────────────────────────────────────┐
│ 📸 반환 어구 사진 촬영                │
├─────────────────────────────────────┤
│                                     │
│  반환하신 어구의 사진을 촬영해주세요    │
│  (선택사항)                          │
│                                     │
│  ┌───────────────────────┐          │
│  │                       │          │
│  │   [카메라 화면]        │          │
│  │                       │          │
│  └───────────────────────┘          │
│                                     │
│  API: POST /api/v1/deposit/image/remg.json │
│  (multipart/form-data)              │
│  Request: {                         │
│    "gvbk_mng_no": "GVBK_001",       │
│    "user_fshnd_no": "T00527PE",     │
│    "file": [사진파일]                 │
│  }                                  │
│                                     │
│  [촬영하기]  [건너뛰기]               │
│                                     │
└─────────────────────────────────────┘
STEP 8: 반환 완료 + 문자발송
┌─────────────────────────────────────┐
│ ✅ 반환이 완료되었습니다!              │
├─────────────────────────────────────┤
│                                     │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│       어구 반환 영수증                │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                     │
│  반환자: 홍길동                       │
│  어업인번호: T00527PE                │
│  반환일자: 2026-02-11                │
│                                     │
│  ─────────────────────────          │
│  [통발어구]                          │
│  - 반환 수량: 3개                    │
│  - 환급 예정 금액: 150,000원          │
│                                     │
│  입금 계좌:                          │
│  국민은행 123-45-678901 (홍길동)     │
│                                     │
│  ※ 환급은 영업일 기준 3-5일 소요      │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                     │
│  [영수증 출력]                       │
│                                     │
└─────────────────────────────────────┘
