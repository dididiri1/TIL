

## ✅ DBeaver

DBeaver는 오라클의 SQL Developer와 같이 DB 관리 툴이다. 데이터베이스를 시각적으로 관리할 수 있어 편리하며,
JDBC 기반이기에 거의 웬만한 주요 DB는 다 지원한다.


https://dbeaver.io/download/

![](https://github.com/dididiri1/TIL/blob/main/Mysql2/images/03_01.png?raw=true)


## ✅ DB 성능을 개선하는 방법
### DB에 부하가 걸렸을 대 성능 개선하는 방법은 다양하다.
- sql 튜닝
- 캐싱 서버 활용 (Redis 등)
- 레플리케이션 (Master/Slave 구조)
- 샤딩
- 스케일업


![](https://github.com/dididiri1/TIL/blob/main/Mysql2/images/03_02.png?raw=true)


## ✅ MySQL SQL 실행 과정 및 SQL 튜닝 핵심

### 1. 클라이언트가 DB에 SQL 요청을 보냄

-> MySQL 엔진에서 옵티마이저가 SQL문을 분석한 뒤에 빠르고 효율적으로 데이터를 가져올 수 있는 계획을 세운다.  
어떤 순서로 테이블에 접근할 지, 인덱스를 사용할 지 어떤 인덱스를 사용할 지 등을 결정한다.

> (옵티마이저가 세운 계획은 완벽하지 않다. SQL 튜닝이 필요하다.)

---

### 2. 옵티마이저가 세운 계획 바탕으로 스토리지 엔진에서 데이터를 가져온다.

-> DB 성능에 문제가 생기는 대부분의 원인은 스토리지 엔진으로부터 데이터를 가져올 때 발생  
-> 데이터를 찾기가 어려워서 오래 걸리거나 가져올 데이터가 너무 많아 오래 걸린다.  
-> SQL 튜닝의 핵심은 스토리지 엔진으로부터 되도록 데이터를 찾기 쉽게 바꾸고, 적은 데이터를 가져오도록 바꾸는 것을 말함.

---

### 3. 옵티마이저가 세운 계획을 바탕으로 스토리지 엔진에서 데이터를 가져옴

-> DB 성능에 문제가 생기는 대부분의 원인은 스토리지 엔진으로부터 데이터 가져올 때 발생  
-> 데이터를 찾기가 어려워서 오래 걸리거나, 가져올 데이터가 너무 많아서 오래 걸림  
-> SQL 튜닝의 핵심은 스토리지 엔진으로부터 데이터를 찾기 쉽게 바꾸고, 적은 데이터를 가져오도록 바꾸는 것을 말한다.

---

### 4. MySQL 엔진에서 정렬, 필터링 등의 마지막 처리를 한 뒤에 클라이언트에게 SQL 결과를 응답한다.

## ✅ SQL 튜닝의 핵심은 인덱스를 적절하게 활용하여 DB 성능이 개선되게끔 하는것이다.

- 스토리지 엔진에서 데이터를 찾기 쉽게 바꾸기
- 스토리지 엔진으로부터 가져오는 데이터의 양 줄이기

그림 이 2가지를 어떻게 해결할 수 있을까?

여러가지 방법이 많지만 가장 많이 활용되는 방법이 인덱스 활용이다. 인덱스가 어떤 개념이길래 위 2가지 문제를 해결 할 수 있을까?

> 단순히 **인덱스만** 적용한다고 해서 무조건 해결 되는게 아니다. 인덱스를 **적절하게** 활용해야만 DB 성능이 개선 된다.  
> 이 방법에 대해 깊이 있게 다루기 전에 '인덱스'라는 개념에 대해 제대로 한 번 정리하고 넘어가자.

## ✅ 인덱스(index)란?
> 인덱스(index)는 데이터베이스 테이블에 대한 검색 성능의 속도를 높여주는 자료 구조를 뜻한다.

### 위의 정의보다는 아래의 읨미로 인덱스를 기억하자. 그애야 훨씬 직관적으로 이해하기가 쉽다.
> 인덱스(index) : 데이터를 빨리 찾기 위해 특정 컬럼을 기준으로 미리 정렬해놓는 표

![](https://github.com/dididiri1/TIL/blob/main/Mysql2/images/03_03.png?raw=true)

나이가 23살인 사용자를 뽑아내려면 위의 표에서 23살로 시작하는 지점과 24살로 시작되는 지점만 찾은 뒤 
그 사이에 있는 모든 값을 가져오면 된다. 정렬을 해놓으니 모든 데이터를 일일이 다 확인할 필요가 없어서 
훨씬 효율적으로 데이터를 조히할 수 있게 된다,

위의 예시에서 **나이 순으로 정렬된 표**가 **인덱스**이다. 정확히 말하자면 나이 컬럼을 기준으로 인덱스
를 생성한 것이다. 이러한 특징 때문에 데이터를 찾는 속도를 빠르게 만들기 위해서 인덱스를 많이 활용한다.

참고로 실제 DB에서는 인덱스를 생성한다고 해서 졍렬된 표를 직접 눈으로 확인할 수는 없다. 시스템 내부족으로
생성될 뿐디ㅏ.